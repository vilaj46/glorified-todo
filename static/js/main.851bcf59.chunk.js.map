{"version":3,"sources":["components/FourOhPage/FourOhPage.js","components/TodoItems/DragTypes.js","components/TodoItems/TodoItem.js","components/TodoItems/TodoItems.js","components/ProfilePage/Biography/helpers/EmailInput.js","components/ProfilePage/Biography/helpers/BioTextArea.js","components/ProfilePage/Biography/helpers/BioStringInput.js","components/ProfilePage/Biography/helpers/EditProfileButton.js","api/login.js","api/index.js","api/signup.js","api/updateProfile.js","api/todos.js","components/ProfilePage/Biography/funcs/save.js","components/ProfilePage/Biography/funcs/cancel.js","components/ProfilePage/Biography/Biography.js","components/ProfilePage/ProfilePage.js","components/AuthenticationPage/funcs/onChanges.js","components/AuthenticationPage/funcs/shouldWeDisplayCaptcha.js","components/AuthenticationPage/funcs/emphasize.js","components/AuthenticationPage/funcs/messages.js","components/AuthenticationPage/funcs/login.js","components/AuthenticationPage/funcs/signup.js","components/AuthenticationPage/funcs/onSubmit.js","components/AuthenticationPage/helpers/LoginButton.js","components/AuthenticationPage/helpers/UsernameText.js","components/AuthenticationPage/helpers/EmailText.js","components/AuthenticationPage/helpers/PasswordText.js","components/AuthenticationPage/helpers/ErrorSVG.js","components/AuthenticationPage/helpers/PasswordVisibilityButton.js","components/AuthenticationPage/AuthenticationPage.js","components/AuthenticationPage/funcs/resetHooks.js","components/Header/helpers/SignupButton.js","components/Header/helpers/LogButton.js","components/Header/helpers/ProfileButton.js","components/Header/helpers/ItemsLink.js","components/Header/Header.js","components/AddTodoForm/AddTodoForm.js","hooks/useSettings.js","hooks/useAuthentication.js","components/App/App.js","hooks/useTodos.js","components/App/funcs/onLoad.js","components/App/funcs/isValidToken.js","index.js","components/Header/Header.module.css","components/ProfilePage/Biography/Biography.module.css","components/TodoItems/TodoItems.module.css","components/AddTodoForm/AddTodoForm.module.css","components/App/App.module.css","components/AuthenticationPage/AuthenticationPage.module.css","components/FourOhPage/FourOhPage.module.css","svgs/check.svg","svgs/x.svg","svgs/checkComplete.svg","svgs/xComplete.svg","components/ProfilePage/ProfilePage.module.css","svgs/envelope.svg","svgs/company.svg","svgs/location.svg","svgs/website.svg","svgs/twitter.svg","svgs/auth_problem.svg","svgs/show_password.svg","svgs/hide_password.svg","images/avatar.png"],"names":["className","styles","h1","h2","h3","TodoItem","item","index","authData","todoData","useDrag","type","DragTypes","data","collect","monitor","isDragging","drag","useDrop","accept","drop","itemBeingDragged","swapTodoItems","checkImg","completed","checkComplete","check","xImg","xComplete","x","data-testid","IDNumber","li","onClick","completeTodo","ref","span","src","alt","show","hide","p","todo","remove","e","stopPropagation","removeTodo","removeHelper","TodoItems","useState","loaded","setLoaded","todos","currentTodos","setCurrentTodos","useEffect","isAuthenticated","authentication","setInitialTodos","DndProvider","backend","HTML5Backend","ul","map","key","EmailInput","email","visibleEmails","setEmailText","InputGroup","Prepend","envelope","Text","id","title","DropdownButton","as","variant","dropdown","Dropdown","Item","href","blankEmail","choice","BioTextArea","bio","setBioText","Form","Group","controlId","Control","rows","placeholder","value","onChange","target","BioStringInput","icon","localKey","keyValue","setProfileKey","toLowerCase","companySVG","locationSVG","websiteSVG","twitterSVG","size","bioIconContainer","FormControl","aria-label","aria-describedby","bioStringInput","EditProfileButton","setDisplayBioInputs","Button","editButton","login","credentials","a","axios","post","then","res","status","token","catch","err","response","signup","console","log","splitData","split","updateProfile","put","headers","Authorization","addTodo","delete","save","actions","api","setDisplayError","setToken","history","push","message","time","Date","now","cancel","hooks","forEach","hook","action","Biography","profile","displayBioInputs","bioText","company","companyText","setCompanyText","location","locationText","setLocationText","visibleEmail","emailText","website","websiteText","setWebsiteText","twitter","twitterText","setTwitterText","displayError","emails","useHistory","style","minWidth","maxWidth","profilePic","username","error","ProfilePage","decodedProfile","jwt_decode","profilePage","state","setters","setUsername","usernameMessage","setUsernameMessage","setUsernameError","setPassword","passwordMessage","setPasswordMessage","setPasswordError","setEmail","emailMessage","setEmailMessage","setEmailError","shouldWeDisplayCaptcha","settings","pathname","password","captcha","length","setLastClicked","lastClicked","element","document","getElementById","emailId","classList","add","bold","setTimeout","prevMessage","usernameId","passwordId","querySelector","captchaError","usernameIsEmpty","emphasize","passwordIsEmpty","successful","usernameNotFound","passwordIncorrect","emailIsEmpty","usernameAndEmailInUse","onlyUsernameInUse","onlyEmailInUse","trim","messages","captchaValue","captch","includes","preventDefault","recaptchaValue","recaptchaRef","current","getValue","toEmphCaptcha","undefined","usernameError","passwordError","emailError","page","setCaptchaValue","captchaChange","LoginButton","buttonStyle","loginButton","signupButton","buttonText","UsernameText","blankUsernameMessage","textError","to","boldError","EmailText","PasswordText","ErrorSVG","authProblem","PasswordVisibilityButton","displayPassword","setDisplayPassword","showPW1","showPW2","hidePassword","showPassword","AuthenticationPage","setSettingsKey","prevPage","setPrevPage","overHeadMessage","setOverHeadMessage","counter","setCounter","React","createRef","resetHooks","reset","Jumbotron","overHead","form","onSubmit","relative","onChanges","autoComplete","captchaContainer","sitekey","SignupButton","button","LogButton","link","ProfileButton","width","height","profileText","ItemsLink","items","Header","header","nav","linksContainer","profileContainer","AddTodoForm","setValue","showWarning","setShowWarning","newItem","Math","random","warningDisplay","display","input","buttonContainer","warning","defaultValues","iat","exp","App","setTodos","auth","text","searchedIndex","searchItemIndex","splice","i","item1","item2","newItem1","newItem2","useTodos","setAuthentication","potentialToken","localStorage","getItem","removeItem","decoded","avatar","setItem","newToken","useAuthentication","setSettings","settingsInStorage","settingsToJSON","JSON","parse","stringify","k","v","newSettings","useSettings","setSettingsOnLoad","loadedHook","authHook","onLoad","isValidToken","fixedPadding","top","path","exact","render","component","FourOhPage","ReactDOM","StrictMode","module","exports"],"mappings":"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","file":"static/js/main.851bcf59.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nimport styles from \"./FourOhPage.module.css\";\r\n\r\nexport default () => {\r\n  return (\r\n    <div>\r\n      <h1 className={styles.h1}>Ooops!</h1>\r\n      <h2 className={styles.h2}>\r\n        We can't seem to find the page <br />\r\n        you're looking for.\r\n      </h2>\r\n      <h3 styles={styles.h3}>Error code: 404</h3>\r\n    </div>\r\n  );\r\n};\r\n","export default {\r\n  TODO_ITEM: \"TODO_ITEM\",\r\n};\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { useDrag, useDrop } from \"react-dnd\";\r\n\r\nimport styles from \"./TodoItems.module.css\";\r\n\r\nimport check from \"../../svgs/check.svg\";\r\nimport x from \"../../svgs/x.svg\";\r\n\r\nimport checkComplete from \"../../svgs/checkComplete.svg\";\r\nimport xComplete from \"../../svgs/xComplete.svg\";\r\n\r\nimport DragTypes from \"./DragTypes.js\";\r\n\r\nconst TodoItem = ({ item, index, authData, todoData }) => {\r\n  /**\r\n   * removeHelper\r\n   *\r\n   * @param {Object} e - Event object.\r\n   *\r\n   * We need to stop bubbling up because it was just triggering\r\n   * the complete item action.\r\n   */\r\n  const removeHelper = (e) => {\r\n    e.stopPropagation();\r\n    todoData.removeTodo({ ...item, index }, authData);\r\n  };\r\n\r\n  const [, drag] = useDrag({\r\n    item: { type: DragTypes.TODO_ITEM, data: { ...item, index } },\r\n    collect: (monitor) => ({\r\n      isDragging: !!monitor.isDragging(),\r\n    }),\r\n  });\r\n\r\n  const [, drop] = useDrop({\r\n    accept: DragTypes.TODO_ITEM,\r\n    drop: (itemBeingDragged) => {\r\n      todoData.swapTodoItems(itemBeingDragged.data, { ...item, index });\r\n    },\r\n  });\r\n\r\n  const checkImg = item.completed ? checkComplete : check;\r\n  const xImg = item.completed ? xComplete : x;\r\n\r\n  const complete = () => {\r\n    todoData.completeTodo({ ...item, index }, authData);\r\n  };\r\n\r\n  return (\r\n    <li\r\n      data-testid={item.IDNumber}\r\n      className={`${styles.li} ${item.completed ? styles.completed : \"\"}`}\r\n      onClick={complete}\r\n      ref={drag}\r\n    >\r\n      <span className={styles.span}>\r\n        <img\r\n          src={checkImg}\r\n          alt=\"Completed!\"\r\n          className={`${styles.check} ${\r\n            item.completed ? styles.show : styles.hide\r\n          }`}\r\n        />\r\n      </span>\r\n      <p className={styles.p} ref={drop}>\r\n        {item.todo}\r\n      </p>\r\n      <button\r\n        type=\"button\"\r\n        data-testid={`${item.IDNumber}-button`}\r\n        className={`${styles.span} ${styles.remove} ${\r\n          item.completed ? styles.completed : \"\"\r\n        }`}\r\n        onClick={(e) => removeHelper(e)}\r\n      >\r\n        <img src={xImg} alt=\"Remove\" className={styles.x} />\r\n      </button>\r\n    </li>\r\n  );\r\n};\r\n\r\nTodoItem.propTypes = {\r\n  item: PropTypes.shape({\r\n    todo: PropTypes.string.isRequired,\r\n    IDNumber: PropTypes.string.isRequired,\r\n    completed: PropTypes.bool.isRequired,\r\n  }).isRequired,\r\n  index: PropTypes.number.isRequired,\r\n  authData: PropTypes.shape({\r\n    isAuthenticated: PropTypes.bool.isRequired,\r\n    authentication: PropTypes.object.isRequired,\r\n    setToken: PropTypes.func.isRequired,\r\n  }).isRequired,\r\n  todoData: PropTypes.shape({\r\n    completeTodo: PropTypes.func.isRequired,\r\n    removeTodo: PropTypes.func.isRequired,\r\n    swapTodoItems: PropTypes.func.isRequired,\r\n  }).isRequired,\r\n};\r\n\r\nexport default TodoItem;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { DndProvider } from \"react-dnd\";\r\nimport { HTML5Backend } from \"react-dnd-html5-backend\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport TodoItem from \"./TodoItem\";\r\n\r\nimport styles from \"./TodoItems.module.css\";\r\n\r\nconst TodoItems = ({ authData, todoData }) => {\r\n  const [loaded, setLoaded] = useState(false);\r\n  const [currentTodos, setCurrentTodos] = useState(todoData.todos);\r\n  useEffect(() => {\r\n    if (loaded === false && authData.isAuthenticated) {\r\n      setCurrentTodos(authData.authentication.todos);\r\n      todoData.setInitialTodos(authData.authentication.todos);\r\n    } else if (loaded && authData.isAuthenticated) {\r\n      setCurrentTodos(authData.authentication.todos);\r\n    } else {\r\n      setCurrentTodos(todoData.todos);\r\n    }\r\n    setLoaded(true);\r\n  }, [loaded, setLoaded, setCurrentTodos, authData, todoData]);\r\n\r\n  // On todos load, check if we have todos.\r\n  return (\r\n    <DndProvider backend={HTML5Backend}>\r\n      <ul className={styles.ul}>\r\n        {currentTodos.map((item, index) => {\r\n          return (\r\n            <TodoItem\r\n              item={item}\r\n              key={item.IDNumber}\r\n              index={index}\r\n              todoData={todoData}\r\n              authData={authData}\r\n            />\r\n          );\r\n        })}\r\n      </ul>\r\n    </DndProvider>\r\n  );\r\n};\r\n\r\nTodoItems.propTypes = {\r\n  authData: PropTypes.shape({\r\n    isAuthenticated: PropTypes.bool.isRequired,\r\n    authentication: PropTypes.object.isRequired,\r\n    setToken: PropTypes.func.isRequired,\r\n  }).isRequired,\r\n  todoData: PropTypes.shape({\r\n    todos: PropTypes.array.isRequired,\r\n    completeTodo: PropTypes.func.isRequired,\r\n    removeTodo: PropTypes.func.isRequired,\r\n    swapTodoItems: PropTypes.func.isRequired,\r\n    setInitialTodos: PropTypes.func.isRequired,\r\n  }).isRequired,\r\n};\r\n\r\nexport default TodoItems;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport InputGroup from \"react-bootstrap/InputGroup\";\r\nimport Dropdown from \"react-bootstrap/Dropdown\";\r\nimport DropdownButton from \"react-bootstrap/DropdownButton\";\r\n\r\nimport envelope from \"../../../../svgs/envelope.svg\";\r\n\r\nimport styles from \"../Biography.module.css\";\r\n\r\nconst EmailInput = ({ email, visibleEmails, setEmailText }) => {\r\n  return (\r\n    <InputGroup className=\"mb-3\">\r\n      <InputGroup.Prepend className={styles.envelope}>\r\n        <InputGroup.Text id=\"inputGroup-sizing-sm\">\r\n          <img src={envelope} alt=\"Email\" title=\"Email\" />\r\n        </InputGroup.Text>\r\n      </InputGroup.Prepend>\r\n      <DropdownButton\r\n        as={InputGroup.Prepend}\r\n        variant=\"outline-secondary\"\r\n        title={email || \" \"}\r\n        className={styles.dropdown}\r\n      >\r\n        <Dropdown.Item\r\n          href=\"#\"\r\n          className={styles.blankEmail}\r\n          onClick={() => setEmailText(\" \")}\r\n        >\r\n          Leave Blank\r\n        </Dropdown.Item>\r\n        {visibleEmails.map((email) => {\r\n          return (\r\n            <Dropdown.Item\r\n              href=\"#\"\r\n              className={styles.choice}\r\n              onClick={() => setEmailText(email)}\r\n              key={email}\r\n            >\r\n              {email}\r\n            </Dropdown.Item>\r\n          );\r\n        })}\r\n      </DropdownButton>\r\n    </InputGroup>\r\n  );\r\n};\r\n\r\nEmailInput.propTypes = {\r\n  email: PropTypes.string.isRequired,\r\n  visibleEmails: PropTypes.array.isRequired,\r\n  setEmailText: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default EmailInput;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport Form from \"react-bootstrap/Form\";\r\n\r\nconst BioTextArea = ({ bio, setBioText }) => {\r\n  return (\r\n    <Form.Group controlId=\"exampleForm.ControlTextarea1\">\r\n      <Form.Control\r\n        as=\"textarea\"\r\n        rows={3}\r\n        placeholder=\"Add a bio\"\r\n        value={bio}\r\n        onChange={(e) => setBioText(e.target.value)}\r\n      />\r\n    </Form.Group>\r\n  );\r\n};\r\n\r\nBioTextArea.propTypes = {\r\n  bio: PropTypes.string.isRequired,\r\n  setBioText: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default BioTextArea;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport InputGroup from \"react-bootstrap/InputGroup\";\r\nimport FormControl from \"react-bootstrap/FormControl\";\r\n\r\nimport companySVG from \"../../../../svgs/company.svg\";\r\nimport locationSVG from \"../../../../svgs/location.svg\";\r\nimport websiteSVG from \"../../../../svgs/website.svg\";\r\nimport twitterSVG from \"../../../../svgs/twitter.svg\";\r\n\r\nimport styles from \"../Biography.module.css\";\r\n\r\nconst BioStringInput = ({ localKey, keyValue, setProfileKey }) => {\r\n  let icon;\r\n\r\n  const loweredLocalKey = localKey.toLowerCase();\r\n  switch (loweredLocalKey) {\r\n    case \"company\":\r\n      icon = companySVG;\r\n      break;\r\n    case \"location\":\r\n      icon = locationSVG;\r\n      break;\r\n    case \"website\":\r\n      icon = websiteSVG;\r\n      break;\r\n    default:\r\n      icon = twitterSVG;\r\n      break;\r\n  }\r\n\r\n  return (\r\n    <InputGroup size=\"sm\" className=\"mb-3\">\r\n      <InputGroup.Prepend>\r\n        <InputGroup.Text\r\n          id=\"inputGroup-sizing-sm\"\r\n          className={styles.bioIconContainer}\r\n        >\r\n          <img src={icon} alt={localKey} title={localKey} />\r\n        </InputGroup.Text>\r\n      </InputGroup.Prepend>\r\n      <FormControl\r\n        aria-label=\"Small\"\r\n        aria-describedby=\"inputGroup-sizing-sm\"\r\n        onChange={(e) => setProfileKey(e.target.value)}\r\n        value={keyValue}\r\n        className={styles.bioStringInput}\r\n        placeholder={localKey}\r\n      />\r\n    </InputGroup>\r\n  );\r\n};\r\n\r\nBioStringInput.propTypes = {\r\n  localKey: PropTypes.string.isRequired,\r\n  keyValue: PropTypes.string, // Will be blank if we don't input anything.\r\n  setProfileKey: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default BioStringInput;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport Button from \"react-bootstrap/Button\";\r\n\r\nimport styles from \"../Biography.module.css\";\r\n\r\nconst EditProfileButton = ({ setDisplayBioInputs }) => {\r\n  return (\r\n    <Button\r\n      type=\"button\"\r\n      className={styles.editButton}\r\n      onClick={() => setDisplayBioInputs(true)}\r\n    >\r\n      Edit Profile\r\n    </Button>\r\n  );\r\n};\r\n\r\nEditProfileButton.propTypes = {\r\n  setDisplayBioInputs: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default EditProfileButton;\r\n","import axios from \"axios\";\r\n\r\n/**\r\n * login\r\n *\r\n * @param {Object} credentials - username and password.\r\n *\r\n * Api call to our login route.\r\n *\r\n * If we are successful, just return the token.\r\n *\r\n * If we get an error check what the error is for and return that.\r\n * The message is then displayed on our Authentication Page.\r\n */\r\nconst login = async (credentials) => {\r\n  return await axios\r\n    .post(\"https://glorified-todo-backend.herokuapp.com/login\", credentials)\r\n    .then((res) => {\r\n      // Successful returns the token.\r\n      return {\r\n        status: 200,\r\n        token: res.data,\r\n      };\r\n    })\r\n    .catch((err) => {\r\n      // 406, 400\r\n      const { status } = err.response;\r\n      if (status === 406) {\r\n        // Username not found or incorrect password.\r\n        if (err.response.data === \"username\") {\r\n          return {\r\n            status: 406,\r\n            data: \"Username not found.\",\r\n          };\r\n        } else {\r\n          return {\r\n            status: 406,\r\n            data: \"Incorrect password.\",\r\n          };\r\n        }\r\n      } else {\r\n        // Something went wrong, we don't specify.\r\n        return {\r\n          status: 400,\r\n          data: \"Something went wrong\",\r\n        };\r\n      }\r\n    });\r\n};\r\n\r\nexport default login;\r\n","import login from \"./login.js\";\r\nimport signup from \"./signup.js\";\r\nimport updateProfile from \"./updateProfile.js\";\r\nimport todos from \"./todos.js\";\r\n\r\nexport default {\r\n  signup,\r\n  login,\r\n  updateProfile,\r\n  todos,\r\n};\r\n","import axios from \"axios\";\r\n\r\n/**\r\n * signup\r\n *\r\n * @param {Object} credentials - username, email, password.\r\n *\r\n * Api call to our signup route.\r\n *\r\n * If we are successful, just return the token.\r\n *\r\n * If we get an error check what the error is for and return that.\r\n * The message is then displayed on our Authentication Page.\r\n */\r\nconst signup = async (credentials) => {\r\n  return await axios\r\n    .post(\"https://glorified-todo-backend.herokuapp.com/signup\", credentials)\r\n    .then((response) => {\r\n      // Successful returns the token.\r\n      return {\r\n        status: 200,\r\n        token: response.data,\r\n      };\r\n    })\r\n    .catch((err) => {\r\n      // 500, 406, 400\r\n      const { status } = err.response;\r\n      console.log(status);\r\n      if (status === 406) {\r\n        // Figure out if it is username, email, or both.\r\n        const { data } = err.response;\r\n        const splitData = data.split(\" \");\r\n        return {\r\n          status: 406,\r\n          data: [406, ...splitData],\r\n        };\r\n      } else {\r\n        // Something went wrong.\r\n        return {\r\n          status: 500,\r\n          data: \"Something went wrong\",\r\n        };\r\n      }\r\n    });\r\n};\r\n\r\nexport default signup;\r\n","import axios from \"axios\";\r\n\r\n/**\r\n * updateProfile\r\n *\r\n * @param {String} id - Our id given from the database.\r\n * @param {String} token - Our authentication token with the expiration.\r\n * @param {Object} data - Our new profile data.\r\n *\r\n * @return {Object} The status we received from the backend and the token / data ( our message ).\r\n * Api call to our login route.\r\n *\r\n * If we are successful, just return the token.\r\n *\r\n * If we get an error check what the error is for and return that.\r\n * The message is then displayed on our Authentication Page. If our token has run out, redirect to the login page.\r\n */\r\nconst updateProfile = async (id, token, data) => {\r\n  return await axios\r\n    .put(`/users/${id}/profile`, data, {\r\n      headers: { Authorization: `Bearer ${token}` },\r\n    })\r\n    .then((res) => {\r\n      const { token } = res.data;\r\n      return {\r\n        status: 200,\r\n        token,\r\n      };\r\n    })\r\n    .catch((err) => {\r\n      // 401 for Unauthorized, 500 for something went wrong, 403 session has ended.\r\n      if (err.response.status === 401 || err.response.status === 403) {\r\n        return {\r\n          status: 401,\r\n          data: \"Please login. Your session has ended.\",\r\n        };\r\n      } else {\r\n        return {\r\n          status: 500,\r\n          data: \"Something went wrong.\",\r\n        };\r\n      }\r\n    });\r\n};\r\n\r\nexport default updateProfile;\r\n","import axios from \"axios\";\r\n\r\n/**\r\n * addTodo\r\n *\r\n * @param {Object} item - IDNumber, completed, todo\r\n * @param {Object} authentication - Our authentication item...email, iat, exp, username, token, profile.\r\n *\r\n *\r\n * Given our new todo item information and our authentication\r\n * we make an api post call to our todos route.\r\n *\r\n * If we are successful return the token, otherwise just retun the message.\r\n */\r\nconst addTodo = async (item, authentication) => {\r\n  const response = await axios.post(`/users/${authentication.id}/todos`, item, {\r\n    headers: { Authorization: `Bearer ${authentication.token}` },\r\n  });\r\n\r\n  if (response.status === 200) {\r\n    return {\r\n      status: 200,\r\n      token: response.data,\r\n    };\r\n  } else {\r\n    return {\r\n      status: 500,\r\n      data: \"Something went wrong.\",\r\n    };\r\n  }\r\n};\r\n\r\n/**\r\n * completeTodo\r\n *\r\n * @param {Object} item - IDNumber, completed, todo, index\r\n * @param {Object} authentication - Our authentication item...email, iat, exp, username, token, profile.\r\n *\r\n *\r\n * Given our new todo item information and our authentication\r\n * we make an api put call to our todos route.\r\n *\r\n * If we are successful return the token, otherwise just return the message.\r\n */\r\nconst completeTodo = async (item, authentication) => {\r\n  const response = await axios.put(\r\n    `/users/${authentication.id}/todos/${item.IDNumber}`,\r\n    item,\r\n    {\r\n      headers: { Authorization: `Bearer ${authentication.token}` },\r\n    }\r\n  );\r\n\r\n  if (response.status === 200) {\r\n    return {\r\n      status: 200,\r\n      token: response.data,\r\n    };\r\n  } else {\r\n    return {\r\n      status: 500,\r\n      data: \"Something went wrong.\",\r\n    };\r\n  }\r\n};\r\n\r\n/**\r\n * removeTodo\r\n *\r\n * @param {Object} item - IDNumber and index.\r\n * @param {Object} authentication - Our authentication item...email, iat, exp, username, token, profile.\r\n *\r\n *\r\n * Given our todo item information and our authentication\r\n * we make an api delete call to our todos route.\r\n *\r\n * If we are successful return the token, otherwise just return the message.\r\n */\r\nconst removeTodo = async (item, authentication) => {\r\n  const response = await axios.delete(\r\n    `/users/${authentication.id}/todos/${item.IDNumber}/${item.index}`,\r\n    {\r\n      headers: { Authorization: `Bearer ${authentication.token}` },\r\n    }\r\n  );\r\n\r\n  if (response.status === 200) {\r\n    return {\r\n      status: 200,\r\n      token: response.data,\r\n    };\r\n  } else {\r\n    return {\r\n      status: 500,\r\n      data: \"Something went wrong\",\r\n    };\r\n  }\r\n};\r\n\r\nexport default {\r\n  addTodo,\r\n  completeTodo,\r\n  removeTodo,\r\n};\r\n","import api from \"../../../../api/index.js\";\r\n\r\n/**\r\n * save\r\n *\r\n * @param {String} authentication - Object which is our authentication and id.\r\n * @param {Object} data - The current state of our profile inputs.\r\n * @param {Object} actions - Our hook setters to perform necessary actions.\r\n *\r\n * Uses out profile id given to us from the backend, the current auth token, and our new profile data\r\n * and makes an api call to update that information.\r\n */\r\nconst save = async (authentication, data, actions) => {\r\n  const response = await api.updateProfile(\r\n    authentication.id,\r\n    authentication.token,\r\n    data\r\n  );\r\n\r\n  if (response.status === 200) {\r\n    actions.setDisplayError(\"\");\r\n    actions.setProfileKey(response.token);\r\n    actions.setDisplayBioInputs(false);\r\n  } else if (response.status === 401 || response.status === 403) {\r\n    // Timed out, push to login page.\r\n    actions.setDisplayError(\"\");\r\n    actions.setToken();\r\n    actions.history.push(\"/login\", {\r\n      message: response.data,\r\n      time: Date.now(),\r\n    });\r\n  } else {\r\n    // Close and display error message.\r\n    actions.setDisplayError(response.data);\r\n    actions.setDisplayBioInputs(false);\r\n  }\r\n};\r\n\r\nexport default save;\r\n","/**\r\n * cancel\r\n *\r\n * @param {Object} actions - Aesthetic actions for closing the inputs and removing errors.\r\n * @param {Array} hooks - Array of hooks for the inputs.\r\n *\r\n * Iterate over our array and set the values to our currently saved data.\r\n *\r\n * Close the profile afterwards.\r\n */\r\nconst cancel = (actions, hooks) => {\r\n  hooks.forEach((hook) => {\r\n    hook.action(hook.value);\r\n  });\r\n\r\n  actions.setDisplayBioInputs(false);\r\n  actions.setDisplayError(\"\");\r\n};\r\n\r\nexport default cancel;\r\n","import React, { useState } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport Form from \"react-bootstrap/Form\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport styles from \"./Biography.module.css\";\r\n\r\n// Helper Components\r\nimport EmailInput from \"./helpers/EmailInput\";\r\nimport BioTextArea from \"./helpers/BioTextArea\";\r\nimport BioStringInput from \"./helpers/BioStringInput\";\r\nimport EditProfileButton from \"./helpers/EditProfileButton\";\r\n\r\n// Helper Functions\r\nimport save from \"./funcs/save\";\r\nimport cancel from \"./funcs/cancel\";\r\n\r\nconst Biography = ({\r\n  authentication,\r\n  profile,\r\n  setProfileKey,\r\n  displayBioInputs,\r\n  setDisplayBioInputs,\r\n  setToken,\r\n}) => {\r\n  // Current state of our profile from the backend.\r\n  const [bioText, setBioText] = useState(profile.bio);\r\n  const [companyText, setCompanyText] = useState(profile.company);\r\n  const [locationText, setLocationText] = useState(profile.location);\r\n  const [emailText, setEmailText] = useState(profile.visibleEmail);\r\n  const [websiteText, setWebsiteText] = useState(profile.website);\r\n  const [twitterText, setTwitterText] = useState(profile.twitter);\r\n\r\n  const [displayError, setDisplayError] = useState(\"\");\r\n\r\n  // Data we have to send if we click save.\r\n  const data = {\r\n    bio: bioText,\r\n    visibleEmail: emailText,\r\n    company: companyText,\r\n    location: locationText,\r\n    website: websiteText,\r\n    twitter: twitterText,\r\n    emails: profile.emails, // We don't need to change this but we do need to send it to the backend.\r\n  };\r\n\r\n  // The current state of our hook and the respected setter.\r\n  // If we click cancel we won't change a thing.\r\n  const hooks = [\r\n    { value: profile.bio, action: setBioText },\r\n    { value: profile.company, action: setCompanyText },\r\n    { value: profile.location, action: setLocationText },\r\n    { value: profile.visibleEmail, action: setEmailText },\r\n    { value: profile.website, action: setWebsiteText },\r\n    { value: profile.twitter, action: setTwitterText },\r\n  ];\r\n\r\n  const history = useHistory();\r\n\r\n  const saveBiography = () => {\r\n    const actions = {\r\n      setProfileKey,\r\n      setDisplayBioInputs,\r\n      setDisplayError,\r\n      history,\r\n      setToken,\r\n    };\r\n\r\n    save(authentication, data, actions);\r\n  };\r\n\r\n  const closeBiography = () => {\r\n    const actions = {\r\n      setDisplayBioInputs,\r\n      setDisplayError,\r\n    };\r\n    cancel(actions, hooks);\r\n  };\r\n\r\n  return (\r\n    <Form style={{ minWidth: \"229px\", maxWidth: \"229px\" }}>\r\n      <img\r\n        className={styles.profilePic}\r\n        src={authentication.profilePic}\r\n        alt=\"Avatar\"\r\n      />\r\n      <p className={styles.username}>{authentication.username}</p>\r\n      {!displayBioInputs && (\r\n        <EditProfileButton setDisplayBioInputs={setDisplayBioInputs} />\r\n      )}\r\n      {displayError && <p className={styles.error}>{displayError}</p>}\r\n      {displayBioInputs && (\r\n        <div>\r\n          <BioTextArea bio={bioText} setBioText={setBioText} />\r\n          <BioStringInput\r\n            localKey=\"Company\"\r\n            keyValue={companyText}\r\n            setProfileKey={setCompanyText}\r\n          />\r\n          <BioStringInput\r\n            localKey=\"Location\"\r\n            keyValue={locationText}\r\n            setProfileKey={setLocationText}\r\n          />\r\n          <EmailInput\r\n            email={emailText}\r\n            visibleEmails={profile.emails}\r\n            setEmailText={setEmailText}\r\n          />\r\n          <BioStringInput\r\n            localKey=\"Website\"\r\n            keyValue={websiteText}\r\n            setProfileKey={setWebsiteText}\r\n          />\r\n          <BioStringInput\r\n            localKey=\"Twitter\"\r\n            keyValue={twitterText}\r\n            setProfileKey={setTwitterText}\r\n          />\r\n          <Button type=\"button\" className={styles.save} onClick={saveBiography}>\r\n            Save\r\n          </Button>\r\n          <Button\r\n            type=\"button\"\r\n            className={styles.cancel}\r\n            onClick={closeBiography}\r\n          >\r\n            Cancel\r\n          </Button>\r\n        </div>\r\n      )}\r\n    </Form>\r\n  );\r\n};\r\n\r\nBiography.propTypes = {\r\n  authentication: PropTypes.shape({\r\n    profilePic: PropTypes.string.isRequired,\r\n    token: PropTypes.string.isRequired,\r\n    username: PropTypes.string.isRequired,\r\n  }).isRequired,\r\n  profile: PropTypes.shape({\r\n    bio: PropTypes.string.isRequired,\r\n    emails: PropTypes.array.isRequired,\r\n    location: PropTypes.string.isRequired,\r\n    twitter: PropTypes.string.isRequired,\r\n    website: PropTypes.string.isRequired,\r\n    visibleEmail: PropTypes.string.isRequired,\r\n  }),\r\n  setProfileKey: PropTypes.func.isRequired,\r\n  displayBioInputs: PropTypes.bool.isRequired,\r\n  setDisplayBioInputs: PropTypes.func.isRequired,\r\n  setToken: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Biography;\r\n","import React, { useState } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport jwt_decode from \"jwt-decode\";\r\n\r\nimport styles from \"./ProfilePage.module.css\";\r\n\r\nimport Biography from \"./Biography/Biography\";\r\n\r\nconst ProfilePage = ({ authentication, setProfileKey, setToken }) => {\r\n  const decodedProfile = jwt_decode(authentication.profile);\r\n  const [displayBioInputs, setDisplayBioInputs] = useState(false);\r\n  return (\r\n    <div className={styles.profilePage}>\r\n      <Biography\r\n        authentication={authentication}\r\n        profile={decodedProfile}\r\n        setProfileKey={setProfileKey}\r\n        displayBioInputs={displayBioInputs}\r\n        setDisplayBioInputs={setDisplayBioInputs}\r\n        setToken={setToken}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nProfilePage.propTypes = {\r\n  authentication: PropTypes.shape({\r\n    profilePic: PropTypes.string.isRequired,\r\n    token: PropTypes.string.isRequired,\r\n    username: PropTypes.string.isRequired,\r\n  }).isRequired,\r\n  setProfileKey: PropTypes.func.isRequired,\r\n  setToken: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ProfilePage;\r\n","const onUsernameChange = (value, state, setters) => {\r\n  setters.setUsername(value);\r\n  if (state.usernameMessage > 0) {\r\n    setters.setUsernameMessage(0);\r\n    setters.setUsernameError(false);\r\n  }\r\n};\r\n\r\nconst onPasswordChange = (value, state, setters) => {\r\n  setters.setPassword(value);\r\n  if (state.passwordMessage > 0) {\r\n    setters.setPasswordMessage(0);\r\n    setters.setPasswordError(false);\r\n  }\r\n};\r\n\r\nconst onEmailChange = (value, state, setters) => {\r\n  setters.setEmail(value);\r\n  if (state.emailMessage > 0) {\r\n    setters.setEmailMessage(0);\r\n    setters.setEmailError(false);\r\n  }\r\n};\r\n\r\nexport default {\r\n  onUsernameChange,\r\n  onPasswordChange,\r\n  onEmailChange,\r\n};\r\n","function shouldWeDisplayCaptcha(history, credentials, settings) {\r\n  const { pathname } = history.location;\r\n  const { username, email, password } = credentials;\r\n  const { captcha } = settings;\r\n\r\n  if (\r\n    pathname === \"/login\" &&\r\n    username.length > 0 &&\r\n    password.length > 0 &&\r\n    captcha\r\n  ) {\r\n    return true;\r\n  } else if (\r\n    pathname === \"/signup\" &&\r\n    username.length > 0 &&\r\n    email.length > 0 &&\r\n    password.length > 0 &&\r\n    captcha\r\n  ) {\r\n    return true;\r\n  } else {\r\n    return false;\r\n  }\r\n}\r\n\r\nexport default shouldWeDisplayCaptcha;\r\n","import styles from \"../AuthenticationPage.module.css\";\r\n\r\n/**\r\n * emphasizeUserErrorMessage\r\n *\r\n * @param {Number} time - The amount of time allowed between clicks.\r\n * @param {Hook} setLastClicked - The time we last click the login button.\r\n * @param {Number} usernameMessage - Index of the message we want to display.\r\n * @param {Date} lastClicked - Time of our last click.\r\n *\r\n * Will only do the animation if we are not spamming the login button.\r\n * Checks the difference in time, if it is too soon we don't emphasize.\r\n *\r\n * We are also removing the password bolding and email bolding because it was bugged\r\n * and bolding even if it was not an error.\r\n */\r\nconst emphasizeUserErrorMessage = (\r\n  time,\r\n  setLastClicked,\r\n  usernameMessage,\r\n  lastClicked\r\n) => {\r\n  if (Date.now() - time < lastClicked) return;\r\n  setLastClicked(Date.now());\r\n  const prevMessage = usernameMessage;\r\n  if (usernameMessage > 0 && prevMessage === usernameMessage) {\r\n    const element = document.getElementById(\"usernameId\");\r\n    const emailId = document.getElementById(\"emailId\");\r\n    const passwordId = document.getElementById(\"passwordId\");\r\n    passwordId.classList.remove(\"bold\");\r\n    if (emailId) {\r\n      emailId.classList.remove(\"bold\");\r\n    }\r\n    element.classList.add(styles.bold);\r\n    setTimeout(() => {\r\n      element.classList.remove(styles.bold);\r\n    }, time);\r\n  }\r\n};\r\n\r\n/**\r\n * emphasizePassErrorMessage\r\n *\r\n * @param {Number} time - The amount of time allowed between clicks.\r\n * @param {Hook} setLastClicked - The time we last click the login button.\r\n * @param {Number} passwordMessage - Index of the message we want to display.\r\n * @param {Date} lastClicked - Time of our last click.\r\n *\r\n * Will only do the animation if we are not spamming the login button.\r\n * Checks the difference in time, if it is too soon we don't emphasize.\r\n *\r\n * We are also removing the username bolding and email bolding because it was bugged\r\n * and bolding even if it was not an error.\r\n */\r\nconst emphasizePassErrorMessage = (\r\n  time,\r\n  setLastClicked,\r\n  passwordMessage,\r\n  lastClicked\r\n) => {\r\n  if (Date.now() - time < lastClicked) return;\r\n  setLastClicked(Date.now());\r\n  const prevMessage = passwordMessage;\r\n  const usernameId = document.getElementById(\"usernameId\");\r\n  const emailId = document.getElementById(\"emailId\");\r\n  if (passwordMessage > 0 && prevMessage === passwordMessage) {\r\n    const element = document.getElementById(\"passwordId\");\r\n    usernameId.classList.remove(\"bold\");\r\n    if (emailId) {\r\n      emailId.classList.remove(\"bold\");\r\n    }\r\n    element.classList.add(styles.bold);\r\n    setTimeout(() => {\r\n      element.classList.remove(styles.bold);\r\n    }, time);\r\n  }\r\n};\r\n\r\n/**\r\n * emphasizeEmailErrorMessage\r\n *\r\n * @param {Number} time - The amount of time allowed between clicks.\r\n * @param {Hook} setLastClicked - The time we last click the login button.\r\n * @param {Number} passwordMessage - Index of the message we want to display.\r\n * @param {Date} lastClicked - Time of our last click.\r\n *\r\n * Will only do the animation if we are not spamming the login button.\r\n * Checks the difference in time, if it is too soon we don't emphasize.\r\n *\r\n * We are also removing the username bolding and password bolding because it was bugged\r\n * and bolding even if it was not an error.\r\n */\r\nconst emphasizeEmailErrorMessage = (\r\n  time,\r\n  setLastClicked,\r\n  emailMessage,\r\n  lastClicked\r\n) => {\r\n  if (Date.now() - time < lastClicked) return;\r\n  setLastClicked(Date.now());\r\n  const prevMessage = emailMessage;\r\n  const usernameId = document.getElementById(\"usernameId\");\r\n  const passwordId = document.getElementById(\"passwordId\");\r\n  if (emailMessage > 0 && prevMessage === emailMessage) {\r\n    const element = document.getElementById(\"emailId\");\r\n    usernameId.classList.remove(\"bold\");\r\n    passwordId.classList.remove(\"bold\");\r\n    element.classList.add(styles.bold);\r\n    setTimeout(() => {\r\n      element.classList.remove(styles.bold);\r\n    }, time);\r\n  }\r\n};\r\n\r\nconst emphasizeCaptchaError = (time, setLastClicked, lastClicked) => {\r\n  if (Date.now() - time < lastClicked) return;\r\n\r\n  const captcha = document.querySelector('[role=\"presentation\"]');\r\n  captcha.classList.add(styles.captchaError);\r\n  setTimeout(() => {\r\n    captcha.classList.remove(styles.captchaError);\r\n  }, time);\r\n};\r\n\r\nexport default {\r\n  userErrorMessage: emphasizeUserErrorMessage,\r\n  passErrorMessage: emphasizePassErrorMessage,\r\n  emailErrorMessage: emphasizeEmailErrorMessage,\r\n  captchaError: emphasizeCaptchaError,\r\n};\r\n","import emphasize from \"./emphasize.js\";\r\n\r\n/**\r\n * usernameIsEmpty\r\n *\r\n * @param {Object} actions  - Hooks from the previous component.\r\n * @param {Object} state - Our current state of the application.\r\n *\r\n * If our username is empty display the message. If it is empty and the message\r\n * is already showing display the message and emphasize it.\r\n */\r\nfunction usernameIsEmpty(actions, state) {\r\n  actions.setUsernameError(true);\r\n  actions.setEmailError(false);\r\n  actions.setPasswordError(false);\r\n  actions.setUsernameMessage(1);\r\n  emphasize.userErrorMessage(\r\n    500,\r\n    actions.setLastClicked,\r\n    state.usernameMessage,\r\n    state.lastClicked\r\n  );\r\n}\r\n\r\n/**\r\n * passwordIsEmpty\r\n *\r\n * @param {Object} actions  - Hooks from the previous component.\r\n * @param {Object} state - Our current state of the application.\r\n *\r\n * If our password is empty display the message. If it is empty and the message\r\n * is already showing display the message and emphasize it.\r\n */\r\nfunction passwordIsEmpty(actions, state) {\r\n  actions.setPasswordError(true);\r\n  actions.setUsernameError(false);\r\n  actions.setEmailError(false);\r\n  actions.setPasswordMessage(1);\r\n  emphasize.passErrorMessage(\r\n    500,\r\n    actions.setLastClicked,\r\n    state.passwordMessage,\r\n    state.lastClicked\r\n  );\r\n}\r\n\r\n/**\r\n * successful\r\n *\r\n * @param {Object} response - Response from the api signup call.\r\n * @param {Object} actions  - Hooks from the previous component.\r\n * @param {Object} state - Our current state of the application.\r\n *\r\n * If we get a successful signup status, we set our errors to false.\r\n * Then we set our token and push to the profile page.\r\n */\r\nfunction successful(response, actions, state) {\r\n  actions.setUsernameError(false);\r\n  actions.setPasswordError(false);\r\n  actions.setToken(response.token);\r\n  state.history.push(\"/profile\");\r\n}\r\n\r\n/**\r\n * usernameNotFound\r\n *\r\n * @param {Object} actions  - Hooks from the previous component.\r\n * @param {Object} state - Our current state of the application.\r\n *\r\n * If we cannot find the username set our username message error to true and\r\n * everything else false.\r\n */\r\nfunction usernameNotFound(actions, state) {\r\n  actions.setUsernameError(true);\r\n  actions.setPasswordError(false);\r\n  actions.setUsernameMessage(2);\r\n  emphasize.userErrorMessage(\r\n    500,\r\n    actions.setLastClicked,\r\n    state.usernameMessage,\r\n    state.lastClicked\r\n  );\r\n}\r\n\r\n/**\r\n * passwordIncorrect\r\n *\r\n * @param {Object} actions  - Hooks from the previous component.\r\n * @param {Object} state - Our current state of the application.\r\n *\r\n * If we cannot find the username set our username message error to true and\r\n * everything else false.\r\n */\r\nfunction passwordIncorrect(actions, state) {\r\n  actions.setPasswordError(true);\r\n  actions.setUsernameError(false);\r\n  actions.setPasswordMessage(2);\r\n  emphasize.passErrorMessage(\r\n    500,\r\n    actions.setLastClicked,\r\n    state.passwordMessage,\r\n    state.lastClicked\r\n  );\r\n}\r\n\r\n/**\r\n * emailIsEmpty\r\n *\r\n * @param {Object} actions  - Hooks from the previous component.\r\n * @param {Object} state - Our current state of the application.\r\n *\r\n * If our email is empty display the message. If it is empty and the message\r\n * is already showing display the message and emphasize it.\r\n */\r\nfunction emailIsEmpty(actions, state) {\r\n  actions.setEmailError(true);\r\n  actions.setUsernameError(false);\r\n  actions.setPasswordError(false);\r\n  actions.setEmailMessage(1);\r\n  emphasize.emailErrorMessage(\r\n    500,\r\n    actions.setLastClicked,\r\n    state.emailMessage,\r\n    state.lastClicked\r\n  );\r\n}\r\n\r\n/**\r\n * usernameAndEmailInUse\r\n *\r\n * @param {Object} actions  - Hooks from the previous component.\r\n * @param {Object} state - Our current state of the application.\r\n *\r\n * If our username and email are already in use perform the approriate\r\n * error handling. We cannot use the onlyUsernameInUse and\r\n * onlyEmailInUse functions in this for some reason.\r\n */\r\nfunction usernameAndEmailInUse(actions, state) {\r\n  // Set username error and styling.\r\n  actions.setUsernameError(true);\r\n  actions.setUsernameMessage(3);\r\n  emphasize.userErrorMessage(\r\n    500,\r\n    actions.setLastClicked,\r\n    state.usernameMessage,\r\n    state.lastClicked\r\n  );\r\n  // Set email error and styling.\r\n  actions.setEmailError(true);\r\n  actions.setEmailMessage(3);\r\n  emphasize.emailErrorMessage(\r\n    500,\r\n    actions.setLastClicked,\r\n    state.emailMessage,\r\n    state.lastClicked\r\n  );\r\n}\r\n\r\n/**\r\n * onlyUsernameInUse\r\n *\r\n * @param {Object} actions  - Hooks from the previous component.\r\n * @param {Object} state - Our current state of the application.\r\n *\r\n * If our username is already in use perform the approriate\r\n * error handling.\r\n */\r\nfunction onlyUsernameInUse(actions, state) {\r\n  actions.setUsernameError(true);\r\n  actions.setPasswordError(false);\r\n  actions.setUsernameMessage(3);\r\n  emphasize.userErrorMessage(\r\n    500,\r\n    actions.setLastClicked,\r\n    state.usernameMessage,\r\n    state.lastClicked\r\n  );\r\n}\r\n\r\n/**\r\n * onlyEmailInUse\r\n *\r\n * @param {Object} actions  - Hooks from the previous component.\r\n * @param {Object} state - Our current state of the application.\r\n *\r\n * If our email is already in use perform the approriate\r\n * error handling.\r\n */\r\nfunction onlyEmailInUse(actions, state) {\r\n  actions.setEmailError(true);\r\n  actions.setUsernameError(false);\r\n  actions.setEmailMessage(3);\r\n  emphasize.emailErrorMessage(\r\n    500,\r\n    actions.setLastClicked,\r\n    state.emailMessage,\r\n    state.lastClicked\r\n  );\r\n}\r\n\r\nexport default {\r\n  usernameIsEmpty,\r\n  passwordIsEmpty,\r\n  successful,\r\n  usernameNotFound,\r\n  passwordIncorrect,\r\n  emailIsEmpty,\r\n  usernameAndEmailInUse,\r\n  onlyUsernameInUse,\r\n  onlyEmailInUse,\r\n};\r\n","import api from \"../../../api/index.js\";\r\nimport messages from \"./messages.js\";\r\n/**\r\n * login\r\n *\r\n * @param {Object} credentials - username, email, password\r\n * @param {Object} actions - setUsernameError, setEmailError, setPasswordError, setUsernameMessage, setEmailMessage, setPasswordMessage, lastClicked, setLastClicked, setToken\r\n * @param {Object} state - usernameMessage, passwordMessage, lastClicked, history\r\n *\r\n * Checks if the username or password are blank. If they are display the message.\r\n * If we try logging in with a message already display, emphasize the message.\r\n * Cut short if either are blank.\r\n *\r\n * If there is a username and password, make the api call.\r\n * Set the appropriate messages and emphasizes based off our response.\r\n *\r\n */\r\nconst login = async (credentials, actions, state) => {\r\n  if (credentials.username.trim().length === 0) {\r\n    // Username value is empty.\r\n    messages.usernameIsEmpty(actions, state);\r\n    return false;\r\n  } else if (credentials.password.trim().length === 0) {\r\n    // Password value is empty.\r\n    messages.passwordIsEmpty(actions, state);\r\n    return false;\r\n  }\r\n\r\n  if (!state.captchaValue && state.settings.captch) return false;\r\n\r\n  const response = await api.login({\r\n    username: credentials.username,\r\n    password: credentials.password,\r\n  });\r\n\r\n  if (response.status === 200) {\r\n    // Successful login.\r\n    messages.successful(response, actions, state);\r\n    return true;\r\n  } else if (response.status === 406) {\r\n    if (response.data === \"Username not found.\") {\r\n      // Username was not found.\r\n      messages.usernameNotFound(actions, state);\r\n      return false;\r\n    } else {\r\n      // Incorrect password.\r\n      messages.passwordIncorrect(actions, state);\r\n      return false;\r\n    }\r\n  }\r\n};\r\n\r\nexport default login;\r\n","import messages from \"./messages.js\";\r\nimport api from \"../../../api/index.js\";\r\n\r\n/**\r\n * signup\r\n *\r\n * @param {Object} credentials - username, password\r\n * @param {Object} actions - setUsernameError, setPasswordError, setUsernameMessage, setPasswordMessage, lastClicked, setLastClicked, setToken\r\n * @param {Object} state - usernameMessage, passwordMessage, lastClicked, history\r\n *\r\n * Checks if the username or password are blank. If they are display the message.\r\n * If we try logging in with a message already display, emphasize the message.\r\n * Cut short if either are blank.\r\n *\r\n * If there is a username and password, make the api call.\r\n * Set the appropriate messages and emphasizes based off our response.\r\n */\r\nconst signup = async (credentials, actions, state) => {\r\n  if (credentials.username.trim().length === 0) {\r\n    // Username input is empty.\r\n    messages.usernameIsEmpty(actions, state);\r\n    return false;\r\n  } else if (credentials.email.trim().length === 0) {\r\n    // Email input is empty.\r\n    messages.emailIsEmpty(actions, state);\r\n    return false;\r\n  } else if (credentials.password.trim().length === 0) {\r\n    // Password input is empty.\r\n    messages.passwordIsEmpty(actions, state);\r\n    return false;\r\n  }\r\n\r\n  const response = await api.signup(credentials);\r\n\r\n  // Success and we got our token.\r\n  if (response.status === 200) {\r\n    messages.successful(response, actions, state);\r\n    return true;\r\n  }\r\n\r\n  // Error handling.\r\n  if (response.status === 406) {\r\n    const { data } = response;\r\n    if (data.includes(\"username\") && data.includes(\"email\")) {\r\n      // Username and email are already in use.\r\n      messages.usernameAndEmailInUse(actions, state);\r\n      return false;\r\n    } else if (data.includes(\"username\")) {\r\n      // Username in use.\r\n      messages.onlyUsernameInUse(actions, state);\r\n      return false;\r\n    } else if (data.includes(\"email\")) {\r\n      // Email in use.\r\n      messages.onlyEmailInUse(actions, state);\r\n      return false;\r\n    }\r\n  }\r\n};\r\n\r\nexport default signup;\r\n","import shouldWeDisplayCaptcha from \"./shouldWeDisplayCaptcha.js\";\r\nimport emphasize from \"./emphasize.js\";\r\nimport login from \"./login.js\";\r\nimport signup from \"./signup.js\";\r\n\r\nexport default async (e, state, setters) => {\r\n  e.preventDefault();\r\n\r\n  // Our current input states.\r\n  const credentials = {\r\n    username: state.username,\r\n    email: state.email,\r\n    password: state.password,\r\n  };\r\n  let recaptchaValue;\r\n  if (state.settings.captcha) {\r\n    recaptchaValue = state.recaptchaRef.current.getValue();\r\n  }\r\n\r\n  const toEmphCaptcha = shouldWeDisplayCaptcha(\r\n    state.history,\r\n    credentials,\r\n    state.settings\r\n  );\r\n\r\n  // Cancels the login / signup if we don't click the captcha.\r\n  if (\r\n    (recaptchaValue === undefined || recaptchaValue === \"\") &&\r\n    toEmphCaptcha\r\n  ) {\r\n    if (state.usernameError === true) {\r\n      emphasize.userErrorMessage(\r\n        500,\r\n        setters.setLastClicked,\r\n        state.lastClicked\r\n      );\r\n    } else if (state.passwordError === true) {\r\n      emphasize.passErrorMessage(\r\n        500,\r\n        setters.setLastClicked,\r\n        state.lastClicked\r\n      );\r\n    } else if (state.emailError === true) {\r\n      emphasize.emailErrorMessage(\r\n        500,\r\n        setters.setLastClicked,\r\n        state.lastClicked\r\n      );\r\n    } else {\r\n      emphasize.captchaError(500, setters.setLastClicked, state.lastClicked);\r\n    }\r\n    return;\r\n  }\r\n\r\n  if (state.page === \"login\") {\r\n    const didWeLogin = login(credentials, setters, state);\r\n    if (didWeLogin === false && state.settings.captcha) {\r\n      setters.setCaptchaValue(undefined);\r\n    }\r\n  } else {\r\n    const didWeSignup = await signup(credentials, setters, state);\r\n    if (didWeSignup === false) {\r\n      function captchaChange(value) {\r\n        setters.setCaptchaValue(value);\r\n      }\r\n      captchaChange(undefined);\r\n    }\r\n  }\r\n};\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport Button from \"react-bootstrap/Button\";\r\n\r\nimport styles from \"../AuthenticationPage.module.css\";\r\n\r\nconst LoginButton = ({ page }) => {\r\n  const buttonStyle =\r\n    page === \"login\" ? styles.loginButton : styles.signupButton;\r\n  const buttonText = page === \"login\" ? \"Log In\" : \"Create New Account\";\r\n\r\n  return (\r\n    <Button variant=\"primary\" type=\"submit\" className={buttonStyle}>\r\n      {buttonText}\r\n    </Button>\r\n  );\r\n};\r\n\r\nLoginButton.propTypes = {\r\n  page: PropTypes.string.isRequired,\r\n};\r\n\r\nexport default LoginButton;\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport PropTypes from \"prop-types\";\r\nimport Form from \"react-bootstrap/Form\";\r\n\r\nimport styles from \"../AuthenticationPage.module.css\";\r\n\r\nconst UsernameText = ({ usernameError, usernameMessage }) => {\r\n  const messages = [\r\n    <p id=\"usernameId\" className={styles.blankUsernameMessage}>\r\n      We'll never share your email with anyone else.\r\n    </p>,\r\n    <p className={styles.textError} id=\"usernameId\">\r\n      Username cannot be blank.\r\n    </p>,\r\n    <p className={styles.textError} id=\"usernameId\">\r\n      The email you've entered doesn't match any account.&nbsp;\r\n      <Link to=\"signup\" className={styles.boldError}>\r\n        <span>Sign up for an account.</span>\r\n      </Link>\r\n    </p>,\r\n    <p className={styles.textError} id=\"usernameId\">\r\n      That username is already taken.\r\n    </p>,\r\n  ];\r\n\r\n  return (\r\n    <Form.Text className=\"text-muted\">\r\n      {usernameError ? messages[usernameMessage] : messages[0]}\r\n    </Form.Text>\r\n  );\r\n};\r\n\r\nUsernameText.propTypes = {\r\n  usernameError: PropTypes.bool.isRequired,\r\n  usernameMessage: PropTypes.number.isRequired,\r\n};\r\n\r\nexport default UsernameText;\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport PropTypes from \"prop-types\";\r\nimport Form from \"react-bootstrap/Form\";\r\n\r\nimport styles from \"../AuthenticationPage.module.css\";\r\n\r\nconst EmailText = ({ emailError, emailMessage }) => {\r\n  const messages = [\r\n    <p id=\"emailId\">We'll never share your email with anyone else.</p>,\r\n    <p className={styles.textError} id=\"emailId\">\r\n      Email cannot be blank.\r\n    </p>,\r\n    <p className={styles.textError} id=\"emailId\">\r\n      The email you've entered doesn't match any account.&nbsp;\r\n      <Link to=\"signup\" className={styles.boldError}>\r\n        <span>Sign up for an account.</span>\r\n      </Link>\r\n    </p>,\r\n    <p className={styles.textError} id=\"emailId\">\r\n      That email is already taken.\r\n    </p>,\r\n  ];\r\n\r\n  return (\r\n    <Form.Text className=\"text-muted\">\r\n      {emailError ? messages[emailMessage] : messages[0]}\r\n    </Form.Text>\r\n  );\r\n};\r\n\r\nEmailText.propTypes = {\r\n  emailError: PropTypes.bool.isRequired,\r\n  emailMessage: PropTypes.number.isRequired,\r\n};\r\n\r\nexport default EmailText;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport Form from \"react-bootstrap/Form\";\r\n\r\nimport styles from \"../AuthenticationPage.module.css\";\r\n\r\nconst PasswordText = ({ passwordError, passwordMessage }) => {\r\n  const messages = [\r\n    <p id=\"passwordId\">Never share your password with anyone else.</p>,\r\n    <p className={styles.textError} id=\"passwordId\">\r\n      Password cannot be blank.\r\n    </p>,\r\n    <p className={styles.textError} id=\"passwordId\">\r\n      The password you've entered is incorrect.{\" \"}\r\n      <span className={styles.boldError}>Forgot Password?</span>\r\n    </p>,\r\n  ];\r\n\r\n  return (\r\n    <Form.Text className=\"text-muted\">\r\n      {passwordError ? messages[passwordMessage] : messages[0]}\r\n    </Form.Text>\r\n  );\r\n};\r\n\r\nPasswordText.propTypes = {\r\n  passwordError: PropTypes.bool.isRequired,\r\n  passwordMessage: PropTypes.number.isRequired,\r\n};\r\n\r\nexport default PasswordText;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport styles from \"../AuthenticationPage.module.css\";\r\n\r\nimport authProblem from \"../../../svgs/auth_problem.svg\";\r\n\r\nconst ErrorSVG = ({ error }) => {\r\n  return (\r\n    error && (\r\n      <img\r\n        src={authProblem}\r\n        alt=\"Authentication Problem\"\r\n        className={styles.authProblem}\r\n      />\r\n    )\r\n  );\r\n};\r\n\r\nErrorSVG.propTypes = {\r\n  error: PropTypes.bool.isRequired,\r\n};\r\n\r\nexport default ErrorSVG;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport showPassword from \"../../../svgs/show_password.svg\";\r\nimport hidePassword from \"../../../svgs/hide_password.svg\";\r\n\r\nimport styles from \"../AuthenticationPage.module.css\";\r\n\r\nconst PasswordVisibilityButton = ({\r\n  displayPassword,\r\n  passwordError,\r\n  setDisplayPassword,\r\n}) => {\r\n  return displayPassword ? (\r\n    <button\r\n      type=\"button\"\r\n      className={passwordError ? styles.showPW1 : styles.showPW2}\r\n      onClick={() => setDisplayPassword(false)}\r\n    >\r\n      <img src={hidePassword} alt=\"Password Vision\" />\r\n    </button>\r\n  ) : (\r\n    <button\r\n      type=\"button\"\r\n      className={passwordError ? styles.showPW1 : styles.showPW2}\r\n      onClick={() => setDisplayPassword(true)}\r\n    >\r\n      <img src={showPassword} alt=\"Password Vision\" />\r\n    </button>\r\n  );\r\n};\r\n\r\nPasswordVisibilityButton.propTypes = {\r\n  displayPassword: PropTypes.bool.isRequired,\r\n  passwordError: PropTypes.bool.isRequired,\r\n  setDisplayPassword: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default PasswordVisibilityButton;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport Jumbotron from \"react-bootstrap/Jumbotron\";\r\nimport Form from \"react-bootstrap/Form\";\r\nimport ReCAPTCHA from \"react-google-recaptcha\";\r\n\r\nimport PropTypes from \"prop-types\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport styles from \"./AuthenticationPage.module.css\";\r\n\r\n// Helper Functions\r\nimport resetHooks from \"./funcs/resetHooks.js\";\r\nimport onChanges from \"./funcs/onChanges.js\";\r\nimport onSubmit from \"./funcs/onSubmit.js\";\r\n\r\n// Helper Components\r\nimport LoginButton from \"./helpers/LoginButton\";\r\nimport UsernameText from \"./helpers/UsernameText\";\r\nimport EmailText from \"./helpers/EmailText\";\r\nimport PasswordText from \"./helpers/PasswordText\";\r\nimport ErrorSVG from \"./helpers/ErrorSVG\";\r\nimport PasswordVisibilityButton from \"./helpers/PasswordVisibilityButton\";\r\n// import Settings from \"./helpers/Settings\";\r\n\r\nconst AuthenticationPage = ({ setToken, page, settings, setSettingsKey }) => {\r\n  // Current state of the inputs.\r\n  const [username, setUsername] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [email, setEmail] = useState(\"\");\r\n\r\n  // Whether or not we have an error. Does not specify the error.\r\n  // Also determines the border / color of the input.\r\n  const [usernameError, setUsernameError] = useState(false);\r\n  const [emailError, setEmailError] = useState(false);\r\n  const [passwordError, setPasswordError] = useState(false);\r\n\r\n  // Whether or not we will be displaying the password in text.\r\n  // Also determines the password visiblity icon.\r\n  const [displayPassword, setDisplayPassword] = useState(false);\r\n\r\n  // Current state of the error message.\r\n  // We keep an array of messages in another component.\r\n  const [usernameMessage, setUsernameMessage] = useState(0);\r\n  const [emailMessage, setEmailMessage] = useState(0);\r\n  const [passwordMessage, setPasswordMessage] = useState(0);\r\n\r\n  // The last time we have clicked the login / signup button.\r\n  const [lastClicked, setLastClicked] = useState(undefined);\r\n\r\n  // Either login or signup. Determines the action we take.\r\n  const [prevPage, setPrevPage] = useState(page);\r\n\r\n  // React-router-dom hook. Use the location to determine\r\n  // aesthetics and we use the push function if we are successful.\r\n  const [overHeadMessage, setOverHeadMessage] = useState(\"\");\r\n  const [counter, setCounter] = useState(0);\r\n\r\n  const [captchaValue, setCaptchaValue] = useState(undefined);\r\n\r\n  // Prevents multiple rerenders.\r\n  const history = useHistory();\r\n  if (history.location.state && counter === 0) {\r\n    setOverHeadMessage(history.location.state.message);\r\n    setCounter(1);\r\n  }\r\n\r\n  const recaptchaRef = React.createRef();\r\n\r\n  const setters = {\r\n    setPrevPage,\r\n    setUsername,\r\n    setEmail,\r\n    setPassword,\r\n    setUsernameError,\r\n    setEmailError,\r\n    setPasswordError,\r\n    setDisplayPassword,\r\n    setUsernameMessage,\r\n    setEmailMessage,\r\n    setPasswordMessage,\r\n    setOverHeadMessage,\r\n    setCounter,\r\n    setCaptchaValue,\r\n    setToken,\r\n    setLastClicked,\r\n  };\r\n\r\n  const state = {\r\n    username,\r\n    password,\r\n    email,\r\n    usernameError,\r\n    passwordError,\r\n    emailError,\r\n    displayPassword,\r\n    usernameMessage,\r\n    emailMessage,\r\n    passwordMessage,\r\n    lastClicked,\r\n    prevPage,\r\n    overHeadMessage,\r\n    counter,\r\n    captchaValue,\r\n    settings,\r\n    history,\r\n    page,\r\n    recaptchaRef,\r\n  };\r\n\r\n  // Resets Form if we switch between the login / signup page.\r\n  if (prevPage !== page) {\r\n    resetHooks(setters, page);\r\n  }\r\n\r\n  const [loaded, setLoaded] = useState(false);\r\n  useEffect(() => {\r\n    // When page is initially loaded, remove the overhead message.\r\n    // useHistory state was persistent.\r\n    if (loaded === false && history.location.pathname === \"/login\") {\r\n      setOverHeadMessage(\"\");\r\n    }\r\n\r\n    if ((usernameError || emailError || passwordError) && captchaValue) {\r\n      recaptchaRef.current.reset();\r\n    }\r\n\r\n    setLoaded(true);\r\n  }, [\r\n    loaded,\r\n    setLoaded,\r\n    history,\r\n    recaptchaRef,\r\n    captchaValue,\r\n    usernameError,\r\n    emailError,\r\n    passwordError,\r\n  ]);\r\n\r\n  function captchaChange(value) {\r\n    setCaptchaValue(value);\r\n  }\r\n\r\n  return (\r\n    <Jumbotron>\r\n      {overHeadMessage && (\r\n        <p className={`${styles.boldError} ${styles.overHead}`}>\r\n          {overHeadMessage}\r\n        </p>\r\n      )}\r\n      <Form\r\n        className={styles.form}\r\n        onSubmit={(e) => onSubmit(e, state, setters)}\r\n      >\r\n        <Form.Group controlId=\"formBasic\" className={styles.relative}>\r\n          <Form.Control\r\n            type=\"text\"\r\n            placeholder=\"Enter username\"\r\n            value={username}\r\n            onChange={(e) =>\r\n              onChanges.onUsernameChange(e.target.value, state, setters)\r\n            }\r\n            className={usernameError ? styles.error : \"\"}\r\n          />\r\n          <ErrorSVG error={usernameError} />\r\n          <UsernameText\r\n            usernameError={usernameError}\r\n            usernameMessage={usernameMessage}\r\n          />\r\n        </Form.Group>\r\n        {history.location.pathname === \"/signup\" && (\r\n          <Form.Group controlId=\"formBasicEmail\" className={styles.relative}>\r\n            <Form.Control\r\n              type=\"email\"\r\n              placeholder=\"Enter email\"\r\n              value={email}\r\n              onChange={(e) =>\r\n                onChanges.onEmailChange(e.target.value, state, setters)\r\n              }\r\n              className={emailError ? styles.error : \"\"}\r\n            />\r\n            <ErrorSVG error={emailError} />\r\n            <EmailText emailError={emailError} emailMessage={emailMessage} />\r\n          </Form.Group>\r\n        )}\r\n        <Form.Group controlId=\"formBasicPassword\" className={styles.relative}>\r\n          <Form.Control\r\n            type={displayPassword ? \"text\" : \"password\"}\r\n            placeholder=\"Password\"\r\n            value={password}\r\n            onChange={(e) =>\r\n              onChanges.onPasswordChange(e.target.value, state, setters)\r\n            }\r\n            className={passwordError ? styles.error : \"\"}\r\n            autoComplete=\"on\"\r\n          />\r\n          <PasswordVisibilityButton\r\n            displayPassword={displayPassword}\r\n            passwordError={passwordError}\r\n            setDisplayPassword={setDisplayPassword}\r\n          />\r\n          <ErrorSVG error={passwordError} />\r\n          <PasswordText\r\n            passwordError={passwordError}\r\n            passwordMessage={passwordMessage}\r\n          />\r\n        </Form.Group>\r\n\r\n        {settings.captcha && (\r\n          <div className={styles.captchaContainer}>\r\n            <ReCAPTCHA\r\n              ref={recaptchaRef}\r\n              sitekey=\"6LeIxAcTAAAAAJcZVRqyHh71UMIEGNQ_MXjiZKhI\"\r\n              onChange={captchaChange}\r\n            />\r\n          </div>\r\n        )}\r\n        <LoginButton page={page} />\r\n        {/* <Settings settings={settings} setSettingsKey={setSettingsKey} /> */}\r\n      </Form>\r\n    </Jumbotron>\r\n  );\r\n};\r\n\r\nAuthenticationPage.propTypes = {\r\n  setToken: PropTypes.func.isRequired,\r\n  page: PropTypes.string.isRequired,\r\n  settings: PropTypes.shape({\r\n    captcha: PropTypes.bool.isRequired,\r\n  }).isRequired,\r\n  setSettingsKey: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default AuthenticationPage;\r\n","/**\r\n * resetHooks\r\n *\r\n * @param {Object} setters - Our hook settings in the AuthenticationPage.\r\n *\r\n * Resets all the hooks.\r\n */\r\nexport default (setters, page) => {\r\n  setters.setPrevPage(page);\r\n  setters.setUsername(\"\");\r\n  setters.setEmail(\"\");\r\n  setters.setPassword(\"\");\r\n  setters.setUsernameError(false);\r\n  setters.setEmailError(false);\r\n  setters.setPasswordError(false);\r\n  setters.setDisplayPassword(false);\r\n  setters.setUsernameMessage(0);\r\n  setters.setEmailMessage(0);\r\n  setters.setPasswordMessage(0);\r\n  setters.setOverHeadMessage(\"\");\r\n  setters.setCounter(0);\r\n  setters.setCaptchaValue(undefined);\r\n};\r\n","import React from \"react\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport styles from \"../Header.module.css\";\r\n\r\nconst SignupButton = () => {\r\n  return (\r\n    <Link to=\"/signup\">\r\n      <Button className={styles.button}>Signup</Button>\r\n    </Link>\r\n  );\r\n};\r\n\r\nexport default SignupButton;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport Button from \"react-bootstrap/Button\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport styles from \"../Header.module.css\";\r\n\r\nconst LogButton = ({ authData, setInitialTodos }) => {\r\n  const logout = () => {\r\n    authData.setToken();\r\n    setInitialTodos([]);\r\n  };\r\n\r\n  if (authData.isAuthenticated) {\r\n    return (\r\n      <Button className={styles.button} onClick={logout}>\r\n        Log Out\r\n      </Button>\r\n    );\r\n  } else {\r\n    return (\r\n      <Link className={styles.link} to=\"/login\">\r\n        <Button className={styles.button}>Log In</Button>\r\n      </Link>\r\n    );\r\n  }\r\n};\r\n\r\nLogButton.propTypes = {\r\n  authData: PropTypes.shape({\r\n    isAuthenticated: PropTypes.bool.isRequired,\r\n    setToken: PropTypes.func.isRequired,\r\n  }).isRequired,\r\n  setInitialTodos: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default LogButton;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Button from \"react-bootstrap/Button\";\r\n\r\nimport styles from \"../Header.module.css\";\r\n\r\nconst ProfileButton = ({ profilePic }) => {\r\n  return (\r\n    <Link className={styles.profile} to=\"/signup\">\r\n      <Button className={styles.button}>\r\n        <img\r\n          src={profilePic}\r\n          alt=\"Profile\"\r\n          className={styles.profilePic}\r\n          width=\"32\"\r\n          height=\"32\"\r\n        />\r\n        <span className={styles.profileText}>Profile</span>\r\n      </Button>\r\n    </Link>\r\n  );\r\n};\r\n\r\nProfileButton.propTypes = {\r\n  profilePic: PropTypes.string.isRequired,\r\n};\r\n\r\nexport default ProfileButton;\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Button from \"react-bootstrap/Button\";\r\n\r\nimport styles from \"../Header.module.css\";\r\n\r\nconst ItemsLink = () => {\r\n  return (\r\n    <Link to=\"/\" className={styles.items}>\r\n      <Button className={styles.button}>Items</Button>\r\n    </Link>\r\n  );\r\n};\r\n\r\nexport default ItemsLink;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport styles from \"./Header.module.css\";\r\n\r\n// Helper Components\r\nimport SignupButton from \"./helpers/SignupButton\";\r\nimport LogButton from \"./helpers/LogButton\";\r\nimport ProfileButton from \"./helpers/ProfileButton\";\r\nimport ItemsLink from \"./helpers/ItemsLink\";\r\n\r\nconst Header = ({ authData, setInitialTodos }) => {\r\n  return (\r\n    <header className={styles.header}>\r\n      <nav className={styles.nav}>\r\n        <div className={styles.linksContainer}>\r\n          <ItemsLink />\r\n          <LogButton authData={authData} setInitialTodos={setInitialTodos} />\r\n          {!authData.isAuthenticated && <SignupButton />}\r\n        </div>\r\n        <div className={styles.profileContainer}>\r\n          {authData.isAuthenticated && (\r\n            <ProfileButton profilePic={authData.authentication.profilePic} />\r\n          )}\r\n        </div>\r\n      </nav>\r\n      <h1>My Glorified To Do List</h1>\r\n    </header>\r\n  );\r\n};\r\n\r\nHeader.propTypes = {\r\n  authData: PropTypes.shape({\r\n    isAuthenticated: PropTypes.bool.isRequired,\r\n    authentication: PropTypes.shape({\r\n      profilePic: PropTypes.string.isRequired,\r\n      token: PropTypes.string.isRequired,\r\n      username: PropTypes.string.isRequired,\r\n    }).isRequired,\r\n  }).isRequired,\r\n  setInitialTodos: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Header;\r\n","import React, { useState } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport Form from \"react-bootstrap/Form\";\r\nimport Button from \"react-bootstrap/Button\";\r\n\r\nimport styles from \"./AddTodoForm.module.css\";\r\n\r\nconst AddTodoForm = ({ addTodo, authData }) => {\r\n  const [value, setValue] = useState(\"\");\r\n  const [showWarning, setShowWarning] = useState(false);\r\n\r\n  /**\r\n   * onSubmit\r\n   *\r\n   * @param {Object} e - Event object.\r\n   *\r\n   * If we submit the form or click the 'Add' button.\r\n   * Triggers the addTodo function from our custom hook.\r\n   * If didAdd is returned true it was a success and we can set our\r\n   * form text to '' and remove the warning if it was there.\r\n   *\r\n   * If we fail to add the new todo we just show the warning and keep the text.\r\n   * The only way to fail will be from a blank form.\r\n   */\r\n  const onSubmit = (e) => {\r\n    e.preventDefault();\r\n    const newItem = {\r\n      todo: value,\r\n      IDNumber: value + Math.random(10000),\r\n      completed: false,\r\n    };\r\n    const didAdd = addTodo(newItem, authData);\r\n    if (didAdd) {\r\n      setValue(\"\");\r\n      setShowWarning(false);\r\n    } else {\r\n      setShowWarning(true);\r\n    }\r\n  };\r\n\r\n  const warningDisplay = showWarning ? styles.display : styles.hide;\r\n\r\n  return (\r\n    <Form className={styles.form} onSubmit={(e) => onSubmit(e)}>\r\n      <Form.Control\r\n        size=\"lg\"\r\n        type=\"text\"\r\n        placeholder=\"Todo...\"\r\n        value={value}\r\n        onChange={(e) => setValue(e.target.value)}\r\n        className={styles.input}\r\n        onSubmit={(e) => onSubmit(e)}\r\n      />\r\n      <div className={styles.buttonContainer}>\r\n        <span className={`${styles.warning} ${warningDisplay}`}>\r\n          You must write something!\r\n        </span>\r\n        <Button\r\n          onClick={(e) => onSubmit(e)}\r\n          data-testid=\"add-todo\"\r\n          className={styles.button}\r\n        >\r\n          Add\r\n        </Button>\r\n      </div>\r\n    </Form>\r\n  );\r\n};\r\n\r\nAddTodoForm.propTypes = {\r\n  addTodo: PropTypes.func.isRequired,\r\n  authData: PropTypes.shape({\r\n    isAuthenticated: PropTypes.bool.isRequired,\r\n    authentication: PropTypes.object.isRequired,\r\n    setToken: PropTypes.func.isRequired,\r\n  }).isRequired,\r\n  // isAuthenticated: PropTypes.bool.isRequired,\r\n  // authentication: PropTypes.object.isRequired,\r\n  // setToken: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default AddTodoForm;\r\n","import { useState } from \"react\";\r\n\r\nexport default () => {\r\n  const [settings, setSettings] = useState(defaultValues);\r\n\r\n  /**\r\n   * setSettingsOnLoad\r\n   *\r\n   * @param {String} newSettings - string representation of our settings object.\r\n   *\r\n   * This funciton is called in our App component.\r\n   *\r\n   * When the application loads, we check our localStorage for the settings key.\r\n   * If their is a settings, then we use that for our current settings state.\r\n   *\r\n   * If there is no settings, we set our localStorage settings key.\r\n   * Our application state is already set.\r\n   */\r\n  const setSettingsOnLoad = (newSettings = null) => {\r\n    const settingsInStorage = localStorage.getItem(\"settings\");\r\n    if (settingsInStorage) {\r\n      const settingsToJSON = JSON.parse(settingsInStorage);\r\n      setSettings(settingsToJSON);\r\n    } else {\r\n      localStorage.setItem(\"settings\", JSON.stringify(settings));\r\n    }\r\n  };\r\n\r\n  /**\r\n   * setSettingsKey\r\n   *\r\n   * @param {String} k - key\r\n   * @param {String} v - value\r\n   *\r\n   * Replace the given key and value combination.\r\n   * Update localStorage as well.\r\n   */\r\n  const setSettingsKey = (k, v) => {\r\n    const newSettings = { ...settings, [k]: v };\r\n    setSettings(newSettings);\r\n    localStorage.setItem(\"settings\", JSON.stringify(newSettings));\r\n  };\r\n\r\n  return [settings, setSettingsOnLoad, setSettingsKey];\r\n};\r\n\r\nconst defaultValues = {\r\n  captcha: true,\r\n};\r\n","import { useState } from \"react\";\r\nimport jwt_decode from \"jwt-decode\";\r\n\r\nimport avatar from \"../images/avatar.png\";\r\n\r\nexport default () => {\r\n  const [authentication, setAuthentication] = useState(defaultValues);\r\n\r\n  /**\r\n   * setToken\r\n   *\r\n   * @param {String} token - Our newly created token from the backend.\r\n   *\r\n   * Sets our new token and the token in localStorage.\r\n   * This will keep our data updated with any new action.\r\n   *\r\n   * Our token will be null if we are clearing it. We check if there is a token still\r\n   * in the localStorage. If there is, clear it.\r\n   *\r\n   * If our token isn't null, we are giving a token with new data.\r\n   * Decode the token and set our authentication hook.\r\n   */\r\n  const setToken = (token = null) => {\r\n    if (token === null) {\r\n      const potentialToken = localStorage.getItem(\"token\");\r\n      if (potentialToken) {\r\n        localStorage.removeItem(\"token\");\r\n      }\r\n      setAuthentication({ ...defaultValues });\r\n    } else {\r\n      const decoded = jwt_decode(token);\r\n      setAuthentication({\r\n        ...authentication,\r\n        ...decoded,\r\n        token,\r\n        profilePic: avatar,\r\n        todos: decoded.todos,\r\n      });\r\n      localStorage.setItem(\"token\", token);\r\n    }\r\n  };\r\n\r\n  /**\r\n   * setProfileKey\r\n   *\r\n   * @param {String} token - Our newly created token from the backend.\r\n   *\r\n   * Updates our profile after the save button is clicked.\r\n   * Also updates our storage token.\r\n   */\r\n  const setProfileKey = (newToken) => {\r\n    const decoded = jwt_decode(newToken);\r\n    const { profile } = decoded;\r\n    localStorage.setItem(\"token\", newToken);\r\n    setAuthentication({ ...authentication, profile });\r\n  };\r\n\r\n  return [authentication, setToken, setProfileKey];\r\n};\r\n\r\n/**\r\n * Default values so we don't get any propTypes warnings.\r\n * Should reflect the information on the backend.\r\n * This probably isn't the best way to handle this...\r\n */\r\nconst defaultValues = {\r\n  email: \"\",\r\n  iat: 0,\r\n  exp: 0,\r\n  username: \"\",\r\n  token: \"\",\r\n  profile: {\r\n    bio: \"\",\r\n    company: \"\",\r\n    location: \"\",\r\n    website: \"\",\r\n    twitter: \"\",\r\n    visibleEmail: \"\",\r\n    emails: [],\r\n  },\r\n  profilePic: \"\",\r\n  todos: [],\r\n};\r\n","import React, { useState, useEffect } from \"react\";\nimport { Route, Switch, Redirect } from \"react-router-dom\";\nimport Jumbotron from \"react-bootstrap/Jumbotron\";\n\nimport styles from \"./App.module.css\";\n\n// Pages\nimport FourOhPage from \"../FourOhPage/FourOhPage\";\nimport TodoItems from \"../TodoItems/TodoItems\";\nimport ProfilePage from \"../ProfilePage/ProfilePage\";\nimport AuthenticationPage from \"../AuthenticationPage/AuthenticationPage\";\n\nimport Header from \"../Header/Header\";\nimport AddTodoForm from \"../AddTodoForm/AddTodoForm\";\n\n// Hooks\nimport useTodos from \"../../hooks/useTodos\";\nimport useSettings from \"../../hooks/useSettings\";\nimport useAuthentication from \"../../hooks/useAuthentication\";\n\n// Helper Functions\nimport onLoad from \"./funcs/onLoad.js\";\nimport isValidToken from \"./funcs/isValidToken.js\";\n\nconst App = () => {\n  const [\n    todos,\n    addTodo,\n    completeTodo,\n    removeTodo,\n    swapTodoItems,\n    setInitialTodos,\n  ] = useTodos();\n\n  // Custom hooks.\n  const [authentication, setToken, setProfileKey] = useAuthentication();\n  const [settings, setSettingsOnLoad, setSettingsKey] = useSettings();\n\n  // Local hooks.\n  const [loaded, setLoaded] = useState(false);\n\n  useEffect(() => {\n    if (loaded === false) {\n      setSettingsOnLoad();\n\n      // Sets up our authentication and todos on page load.\n      const loadedHook = { loaded, setLoaded };\n      const authHook = { exp: authentication.exp, setToken };\n      onLoad(loadedHook, authHook, setInitialTodos);\n    }\n  }, [\n    loaded,\n    setLoaded,\n    authentication,\n    setToken,\n    settings,\n    setSettingsOnLoad,\n    setInitialTodos,\n  ]);\n\n  const isAuthenticated = isValidToken(authentication.token);\n\n  // Our hook data to clean up the amount of props given to each component.\n  const authData = { authentication, isAuthenticated, setToken, setProfileKey };\n  const todoData = {\n    todos,\n    addTodo,\n    completeTodo,\n    removeTodo,\n    swapTodoItems,\n    setInitialTodos,\n  };\n\n  return (\n    loaded && (\n      <Jumbotron className={styles.fixedPadding}>\n        <div className={styles.width}>\n          <div className={styles.top}>\n            <Header authData={authData} setInitialTodos={setInitialTodos} />\n            <Route\n              path=\"/\"\n              exact\n              render={() => (\n                <AddTodoForm addTodo={addTodo} authData={authData} />\n              )}\n            />\n          </div>\n          <Switch>\n            <Route path=\"/\" exact>\n              <TodoItems authData={authData} todoData={todoData} />\n            </Route>\n            <Route path=\"/login\" exact>\n              {isAuthenticated ? (\n                <Redirect to=\"/profile\" />\n              ) : (\n                <AuthenticationPage\n                  setToken={setToken}\n                  page=\"login\"\n                  settings={settings}\n                  setSettingsKey={setSettingsKey}\n                />\n              )}\n            </Route>\n            <Route path=\"/signup\" exact>\n              {isAuthenticated ? (\n                <Redirect to=\"/profile\" />\n              ) : (\n                <AuthenticationPage\n                  setToken={setToken}\n                  page=\"signup\"\n                  settings={settings}\n                  setSettingsKey={setSettingsKey}\n                />\n              )}\n            </Route>\n            <Route path=\"/profile\" exact>\n              {isAuthenticated ? (\n                <ProfilePage\n                  authentication={authentication}\n                  setProfileKey={setProfileKey}\n                  setToken={setToken}\n                />\n              ) : (\n                <Redirect to=\"/login\" />\n              )}\n            </Route>\n            <Route component={FourOhPage} />\n          </Switch>\n        </div>\n      </Jumbotron>\n    )\n  );\n};\n\nexport default App;\n","import { useState } from \"react\";\r\nimport api from \"../api/index.js\";\r\n\r\nexport default () => {\r\n  const [todos, setTodos] = useState([]);\r\n\r\n  /**\r\n   * addTodo\r\n   *\r\n   * @param {Object} item - IDNumber, completed, todo.\r\n   * @param {Object} auth - authData from the App component.\r\n   * @return {Boolean} Whether we added the TodoItem.\r\n   *\r\n   * Initially we clean the todo item text by trimming the white space.\r\n   *\r\n   * If our text with the white space trimmed is greater than 0, we can proceed.\r\n   *\r\n   * We replace the items todo with our newly trimmed text.\r\n   * Push the item onto the todo array. Set our todo.\r\n   *\r\n   * If we are logged in, we send an api request to update our todo items in the backend.\r\n   *\r\n   * Return the success of our addition.\r\n   */\r\n  const addTodo = async (item, auth) => {\r\n    const text = item.todo.trim();\r\n\r\n    if (text.length > 0) {\r\n      item.todo = text;\r\n      todos.push(item);\r\n      setTodos([...todos]);\r\n      if (auth.isAuthenticated) {\r\n        const response = await api.todos.addTodo(item, auth.authentication);\r\n        if (response.status === 200) {\r\n          auth.setToken(response.token);\r\n        } else {\r\n          // Figure out our error codes.\r\n          return false;\r\n        }\r\n      }\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  };\r\n\r\n  /**\r\n   * completedTodo\r\n   *\r\n   * @param {Object} item - todo, IDNumber, completed, index.\r\n   * @param {Object} auth - authData from the App component.\r\n   * @return {Boolean} Whether we added the TodoItem.\r\n   *\r\n   * Since we are given the index, we can check immediately if the\r\n   * todos[index] matches our id. This way we won't have to iterate over the array.\r\n   * If it is the correct index, we toggle the completed property.\r\n   * Then check for authentication and do the same thing on the backend returning our new token.\r\n   *\r\n   * If our index isn't lined up properly and the IDNumbers don't match,\r\n   * we search for the IDNumber in our array. Then do the same thing.\r\n   */\r\n  const completeTodo = async (item, auth) => {\r\n    const { index, IDNumber } = item;\r\n    if (todos[index].IDNumber === IDNumber) {\r\n      todos[index].completed = !todos[index].completed;\r\n\r\n      if (auth.isAuthenticated) {\r\n        const data = { ...todos[index], index: index };\r\n        const response = await api.todos.completeTodo(\r\n          data,\r\n          auth.authentication\r\n        );\r\n        if (response.status === 200) {\r\n          auth.setToken(response.token);\r\n        } else {\r\n          // Figure out our error codes.\r\n          return false;\r\n        }\r\n      }\r\n      setTodos([...todos]);\r\n      return true;\r\n    } else {\r\n      const searchedIndex = searchItemIndex(IDNumber, todos);\r\n      if (searchedIndex === -1) return false; // Not found.\r\n      todos[searchedIndex].completed = !todos[searchedIndex].completed;\r\n      if (auth.isAuthenticated) {\r\n        const data = { ...todos[searchedIndex], index: searchedIndex };\r\n        const response = api.todos.completeTodo(data, auth.authentication);\r\n\r\n        if (response.status === 200) {\r\n          auth.setToken(response.token);\r\n        } else {\r\n          // Figure out error codes.\r\n          return false;\r\n        }\r\n      }\r\n      setTodos([...todos]);\r\n      return true;\r\n    }\r\n  };\r\n\r\n  /**\r\n   * removeTodo\r\n   *\r\n   * @param {Object} item - todo, IDNumber, completed, index.\r\n   * @param {Object} auth - authData from the app component\r\n   * @return {Boolean} Whether we added the TodoItem.\r\n   *\r\n   * Since we are given the index, we can check immediately if the\r\n   * todos[index] matches our id. This way we won't have to iterate over the array.\r\n   * If it is the correct index, remove it from the array and update our backend as well.\r\n   *\r\n   *\r\n   * If our index isn't lined up properly and the IDNumbers don't match,\r\n   * we search for the IDNumber in our array. Then do the same thing.\r\n   */\r\n  const removeTodo = async (item, auth) => {\r\n    const { index, IDNumber } = item;\r\n\r\n    if (todos[index].IDNumber === IDNumber) {\r\n      todos.splice(index, 1);\r\n      if (auth.isAuthenticated) {\r\n        const response = await api.todos.removeTodo(\r\n          { index, IDNumber },\r\n          auth.authentication\r\n        );\r\n\r\n        if (response.status === 200) {\r\n          auth.setToken(response.token);\r\n        } else {\r\n          // Figure out error codes.\r\n          return false;\r\n        }\r\n      }\r\n      setTodos([...todos]);\r\n      return true;\r\n    } else {\r\n      const searchedIndex = searchItemIndex(IDNumber, todos);\r\n      if (searchedIndex === -1) return false; // Not found.\r\n      todos.splice(searchedIndex, 1);\r\n      if (auth.isAuthenticated) {\r\n        const response = await api.todos.removeTodo(\r\n          { index: searchedIndex, IDNumber },\r\n          auth.authentication\r\n        );\r\n        if (response.status === 200) {\r\n          auth.setToken(response.token);\r\n        } else {\r\n          // Figure out error codes.\r\n          return false;\r\n        }\r\n      }\r\n      setTodos([...todos]);\r\n      return true;\r\n    }\r\n  };\r\n\r\n  /**\r\n   * swapTodoItems\r\n   *\r\n   * @param {Object} item1 - Item being dragged / dropped.\r\n   * @param {*} item2 - Item being dropped on.\r\n   *\r\n   * Swap the items in the array.\r\n   */\r\n  const swapTodoItems = (item1, item2) => {\r\n    let newItem1 = { ...item1, index: item2.index };\r\n    let newItem2 = { ...item2, index: item1.index };\r\n    todos[item1.index] = newItem2;\r\n    todos[item2.index] = newItem1;\r\n    setTodos([...todos]);\r\n  };\r\n\r\n  /**\r\n   * setInitialTodos\r\n   *\r\n   * @param {Array} todos - Todos Array decoded from storage on application load.\r\n   *\r\n   * This function is called in the onLoad function in our App component.\r\n   */\r\n  const setInitialTodos = (todos) => {\r\n    setTodos([...todos]);\r\n  };\r\n\r\n  /**\r\n   * searchItemIndex\r\n   *\r\n   * @param {String} IDNumber  - The id we are searching for.\r\n   * @param {Array} todos - The current todos state.\r\n   * @return {Number}\r\n   *\r\n   * Search the array for the matching IDNumbers.\r\n   * If it is found, return the index. Otherwise, return -1.\r\n   */\r\n  const searchItemIndex = (IDNumber, todos) => {\r\n    for (let i = 0; i < todos.length; i++) {\r\n      const todo = todos[i];\r\n      if (todo.IDNumber === IDNumber) {\r\n        return i;\r\n      }\r\n    }\r\n    return -1;\r\n  };\r\n\r\n  return [\r\n    todos,\r\n    addTodo,\r\n    completeTodo,\r\n    removeTodo,\r\n    swapTodoItems,\r\n    setInitialTodos,\r\n  ];\r\n};\r\n","import jwt_decode from \"jwt-decode\";\r\n\r\n/**\r\n * onLoad\r\n *\r\n * @param {Hook} - {loaded, setLoaded}\r\n * @param {Object} - {exp: authentication.exp, setToken };\r\n * @param {Function} - setToken our hook action\r\n * @param {Function} - setInitialTodos\r\n *\r\n * Check if our app is loaded.\r\n *\r\n * If our app is loaded, check if there is a token already in localStorage.\r\n * If there is a token in localStorage, decode it and check the expiration.\r\n * If we are not expired update our current state, otherwise clear the storage and the state.\r\n *\r\n * If we are not loaded, check if our current token is not expired.\r\n * If it expires clear our state, otherwise leave it alone.\r\n */\r\nexport default (loadedHook, authHook, setInitialTodos) => {\r\n  if (loadedHook.loaded === false) {\r\n    const potentialToken = localStorage.getItem(\"token\");\r\n    if (potentialToken) {\r\n      const decoded = jwt_decode(potentialToken);\r\n      if (Date.now() <= decoded.exp * 1000) {\r\n        authHook.setToken(potentialToken);\r\n        setInitialTodos(decoded.todos);\r\n      } else {\r\n        authHook.setToken();\r\n      }\r\n    }\r\n    loadedHook.setLoaded(true);\r\n  } else {\r\n    // If we are loading, we check for the expiration of our token.\r\n    const expired = Date.now() >= authHook.exp * 1000 && authHook.exp !== 0;\r\n    if (expired) {\r\n      authHook.setToken();\r\n    }\r\n  }\r\n};\r\n","import jwt_decode from \"jwt-decode\";\r\n\r\n/**\r\n * isValidToken\r\n *\r\n * @param {String} - Our auth token.\r\n *\r\n * Checks if the token is expired.\r\n * If the token isn't expired its a valid one, return true.\r\n *\r\n * Otherwise, its valid. Return false.\r\n */\r\nexport default (token) => {\r\n  if (token.length > 0) {\r\n    const decoded = jwt_decode(token);\r\n    if (Date.now() <= decoded.exp * 1000) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  } else {\r\n    return false;\r\n  }\r\n};\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n// import { BrowserRouter as Router, Route } from \"react-router-dom\";\nimport { HashRouter as Router, Route } from \"react-router-dom\";\n\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"./index.css\";\nimport App from \"./components/App/App\";\n\n// Simple styling we will be going for:\n// https://www.w3schools.com/howto/howto_js_todolist.asp\n\n// Testing\n// Spacing on larger screens.\n\n// Profile Page\n// List of items TodoItems for edit.\n// Ability to change email/password.\n// Verify account.\n// Delete account.\n\n// On the deploy file, redirect to the '/' instead of having http://vilaj46.github.io/glorified-todo?\n\n// ReactDOM.render(\n//   <React.StrictMode>\n//     <Router>\n//       <Route to=\"/\" exact component={App} />\n//     </Router>\n//   </React.StrictMode>,\n//   document.getElementById(\"root\")\n// );\nReactDOM.render(\n  <React.StrictMode>\n    <Router>\n      <Route to=\"/\" exact component={App} />\n    </Router>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__eKXAo\",\"nav\":\"Header_nav__2utk4\",\"linksContainer\":\"Header_linksContainer__FPNqQ\",\"profileContainer\":\"Header_profileContainer__38cbw\",\"button\":\"Header_button__FDKz2\",\"items\":\"Header_items__1azIx\",\"profile\":\"Header_profile__1E8Z9\",\"profileText\":\"Header_profileText__B5RWG\",\"profilePic\":\"Header_profilePic__ugGmU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"username\":\"Biography_username__1gwVI\",\"bioStringInput\":\"Biography_bioStringInput__2Q_7U\",\"bioIconContainer\":\"Biography_bioIconContainer__seqpC\",\"profilePic\":\"Biography_profilePic__OihXm\",\"save\":\"Biography_save__3x90x\",\"cancel\":\"Biography_cancel__3bfOQ\",\"editButton\":\"Biography_editButton__3EglE\",\"envelope\":\"Biography_envelope__1Ve9B\",\"dropdown\":\"Biography_dropdown__ePOqG\",\"blankEmail\":\"Biography_blankEmail__5OX1X\",\"choice\":\"Biography_choice__IGx2I\",\"error\":\"Biography_error__1O1Qt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"li\":\"TodoItems_li__2-lRF\",\"remove\":\"TodoItems_remove__32wHd\",\"p\":\"TodoItems_p__1w0JM\",\"span\":\"TodoItems_span__JnKXm\",\"completed\":\"TodoItems_completed__2NGOB\",\"x\":\"TodoItems_x__3B87g\",\"check\":\"TodoItems_check__39fw3\",\"hide\":\"TodoItems_hide__2i1oK\",\"show\":\"TodoItems_show__L3zqR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"AddTodoForm_form__18_kb\",\"input\":\"AddTodoForm_input__crQzW\",\"buttonContainer\":\"AddTodoForm_buttonContainer__2a-jz\",\"button\":\"AddTodoForm_button__1Sb4-\",\"warning\":\"AddTodoForm_warning__28cyb\",\"display\":\"AddTodoForm_display__2MHQo\",\"hide\":\"AddTodoForm_hide__37pnf\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"fixedPadding\":\"App_fixedPadding__T7ge5\",\"top\":\"App_top__3pCvB\",\"width\":\"App_width__2soKE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"AuthenticationPage_form__1b20b\",\"error\":\"AuthenticationPage_error__1L5TW\",\"textError\":\"AuthenticationPage_textError__3YLKQ\",\"boldError\":\"AuthenticationPage_boldError__2vYjL\",\"loginButton\":\"AuthenticationPage_loginButton__1BJ_W\",\"signupButton\":\"AuthenticationPage_signupButton__1jHiB\",\"relative\":\"AuthenticationPage_relative__eW08L\",\"authProblem\":\"AuthenticationPage_authProblem__3hqEZ\",\"showPW1\":\"AuthenticationPage_showPW1__oVYMD\",\"showPW2\":\"AuthenticationPage_showPW2__3tuDI\",\"bold\":\"AuthenticationPage_bold__3jDsD\",\"blankUsernameMessage\":\"AuthenticationPage_blankUsernameMessage__1GLvc\",\"tokenCookieContainer\":\"AuthenticationPage_tokenCookieContainer__1dJBB\",\"check\":\"AuthenticationPage_check__Dx-nN\",\"overHead\":\"AuthenticationPage_overHead__24Dt_\",\"captchaContainer\":\"AuthenticationPage_captchaContainer__lizAo\",\"captchaError\":\"AuthenticationPage_captchaError__eqA8u\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"h1\":\"FourOhPage_h1__1l3uR\",\"h2\":\"FourOhPage_h2__3MiNm\",\"h3\":\"FourOhPage_h3__zmLK3\"};","module.exports = __webpack_public_path__ + \"static/media/check.7812c5ab.svg\";","module.exports = __webpack_public_path__ + \"static/media/x.2329a60d.svg\";","module.exports = __webpack_public_path__ + \"static/media/checkComplete.c4e37bc8.svg\";","module.exports = __webpack_public_path__ + \"static/media/xComplete.4a74a651.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profilePage\":\"ProfilePage_profilePage__3x5t8\"};","module.exports = __webpack_public_path__ + \"static/media/envelope.f38c166d.svg\";","module.exports = __webpack_public_path__ + \"static/media/company.8d611e64.svg\";","module.exports = __webpack_public_path__ + \"static/media/location.9c69d282.svg\";","module.exports = __webpack_public_path__ + \"static/media/website.a45c1559.svg\";","module.exports = __webpack_public_path__ + \"static/media/twitter.b48524a2.svg\";","module.exports = __webpack_public_path__ + \"static/media/auth_problem.2a5a1bfc.svg\";","module.exports = __webpack_public_path__ + \"static/media/show_password.e4b464d9.svg\";","module.exports = __webpack_public_path__ + \"static/media/hide_password.dbd11928.svg\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAaQAAAGkAQMAAABEgsN2AAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAZQTFRFAAAAidScV25GtAAAAAJ0Uk5TAP9bkSK1AAAAiElEQVR4nO3XwQ2AIAxAUW6OwaisxkhugBfhADGRGGMw7x/bvgEagiRJeqlYzvLMCUVRFEVRFEVRFEV9qG5EURRFURRFURRFUeupVqq7OtjqYB+PKYqiKIqiKIqiKOqJiqVvUK1MURRFURRFURRFUcupVrpUS370FEVRFEVRFEVR1I+VJEnqOwCJzA1b+LwVKgAAAABJRU5ErkJggg==\""],"sourceRoot":""}